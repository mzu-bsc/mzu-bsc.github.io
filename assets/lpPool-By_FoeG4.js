import{c as e,r as t,j as s,a,u as n,d as i,k as l,V as r,o as d,f as c,z as o,g as m,t as x,l as p,B as u,A as h,q as y}from"./index-BKSZN8kz.js";import{I as b,M as f}from"./modal-ByxRYt2m.js";import{g as w,p as N,r as v,S as j}from"./amountOut-D15BpWsI.js";import{U as g}from"./USDTToken-8dNO4EIv.js";import{s as A,w as C,a as D}from"./writeContract-UEKoQuez.js";import{g as S}from"./getBlock-CIeDXJEm.js";const O=n=>{const i=e.c(8),{symbol:l,className:r}=n,[d,c]=t.useState();let o,m,x,p;return i[0]!==l?(o=()=>{e:switch(l){case"USDT":c("data:image/svg+xml,%3csvg%20width='60'%20height='60'%20viewBox='0%200%2060%2060'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_450_1997)'%3e%3cpath%20d='M59.9466%2029.9894C59.9466%2046.4757%2046.5821%2059.8402%2030.0959%2059.8402C13.6096%2059.8402%200.245117%2046.4757%200.245117%2029.9894C0.245117%2013.5031%2013.6096%200.138672%2030.0959%200.138672C46.5821%200.138672%2059.9466%2013.5031%2059.9466%2029.9894Z'%20fill='%231BA27A'/%3e%3cpath%20d='M44.1053%2015.1914H15.8394V22.0153H26.5605V32.0451H33.3841V22.0153H44.1053V15.1914Z'%20fill='white'/%3e%3cpath%20d='M30.0375%2033.1135C21.1685%2033.1135%2013.9787%2031.7099%2013.9787%2029.9783C13.9787%2028.247%2021.1685%2026.8431%2030.0375%2026.8431C38.9062%2026.8431%2046.096%2028.247%2046.096%2029.9783C46.096%2031.7099%2038.9062%2033.1135%2030.0375%2033.1135ZM48.0688%2030.501C48.0688%2028.2682%2039.996%2026.458%2030.0375%2026.458C20.079%2026.458%2012.0059%2028.2682%2012.0059%2030.501C12.0059%2032.467%2018.2659%2034.1052%2026.5608%2034.4685V48.8667H33.3844V34.4741C41.7435%2034.1222%2048.0688%2032.4774%2048.0688%2030.501Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_450_1997'%3e%3crect%20width='60'%20height='60'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e");break e;case"MZU":c("data:image/png;base64,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");break e;case"BNB":c("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAABbxJREFUaEO1mWuME1UUx/9ntttl15lVUAnyUAOG5267ympQMWaFbpUYEhKDBjB8wAcYxUc0+kFN5AMxIQaCCSrBYIwgSGIMJkhbZQ2rIRoMtMsuEB7KI0QxEOh02Ue7PeZOmbXtzuPOtNwv/dBz/ueXM/eee++5hAqHHguNhYJHkMe9THQXMSYwYaL4BaFhWJ65k4kOgPMHUJPtbJx/7FIlocmPM++dNaaXlOV5oiUEavWlwXyAwF+owaHt1NaT8arhCZwTk2/WWX2PmFaVZNNr1CJ7Zr4M0DoteHUDtf3VLyslDd4ba34iT8oWAONlxb3YMeNkALysIZr6TcbPFZy/n92QCWY3gOh5GcGKbBhDIKxVa5NrqA05Jy1H8GuxpklDpMQAmuEVSNGmGS55/bhXVzDwq1ZLT1Lb4St2zrbgeqJpBvI1P4Fwh9fIArq+VcwqoO/gc77gweimYHa+2tbzt1V8S/B0x9TbaHDUIRBN9AtNAc1w5ZzuG56BE5RTHtYWHPq3nMMaPB7+nYD7K4U2/SuBByOpBq/OKa84I8D1WGgTiFZVC7pK8Ju1aPLFYqYS8HQ8vIiAb6sNXRV4GmrTIkd+NrWGwXnPPY2ZQMMJgMZ6ATcXojmn3XwrmDY9aiTZRCSKDjAMno6HPyLgDbfAxf97ha4080T5pWqka/swOHe03JLJ8gUA9bLgbtCcKxw/KKBaSvrLPB9RI6mQyLqR8Uwi9CYzrasmdN/BFYZcfevn1YVnnqdFU/sMcD0W+gNE98mAy2RaQJs7ZsG+ivCMbVo0uYz6fmi5O1fDf8pAC5vgtLcQvHOpzefPoBjaNHKDHzy7DYPH5T44M+uN0VQj6Ynwy2B8LAsu7OpmrUHt+IUlLmJOW0G7wWcv7MZA9/tewkNRcg+QHgvtAtFTnjzL4N2g7eD9QBtajNUCPAmikB24+MyjwuvRn3x9xGFJZD4w9jHLTAenrDQkB099WiJtTpvcxX0jMu0Uq/Tz8ieUjod0AlnWrOKFaFe+lPrxyPeJSvr/CE55CcHJLxTAT2/G4KlNpfAWPjKxhkUYCdLjYWMnKh9W1UOm9tZNfwe1k54pkcue24GBYx/azkbvsfioJbhTyXOCt4I2ae3g/cRi4IqY4wMgChanw6l8OS1E/+DWdd42FvMApWOhS0Q0xnqqlArKVA//U8VLLP6H0vHwcQKm2s/zgqAddHUXp3OsIsbDpMdDewGKOpbDlg3oP/yaTTlss7yaOZfDLchd7LAuhzaxSsshdpIea94IUl6pbAOSu1eWL0TfGxDxu6QnmhaDa3Z6Abfe8p3h7aqHL3jOP0rc2Tw606dclgV3PmRZw7udKL0csgDu19pT9dePteE4CBEZeLeTXnmdd4OWqVRlXN9o7cmnDfB0LLSCiAodHIkhCy+kRGPI7j7qAxrM+UWN0a7vDHD+ZZqm99adIaLREtyGiQy8sKsmNMBn1drUFNFXHL4s6/HmDwDF08HYDd4uCX4yfV1rpdae/MxIiCnOHTPVTLb2GIAJslmXyXy5lm9oo6OVbDW7uCUNoes98D1ewL3A+4YWGc7nWtTHu5Mm24gWXDoe+pJAz1YbvhJoML+qRVMbi5lGgIvnkgxrPX5eHuzmfEXQwC6tPbm4PJHW3dpY83SCsh+E2yvNfCXQDD6o5a7NpQUnB6TAC7VdwFMHiMb5hRd+Tjd/Z13uAmO+Fk1dtLJzfUrJQUkQUeFdxMOo5CkFzPtVJbOQIqev2oWUfLzKrQehcPu9sUM8WK1RryTX0mIMOYVyBTedb/RzIcBdRCy6sV0yuZEGF2Ki4vSy+nYeWE2gm2QCuNowd5LCW9VI11ZX2yIDT+CmX/rH6bcq+brlzLwERLO9BDRsGd1Q+OuAkv2qft7RM579i7d8P87CJ9MxcxwPBuYyYQ4YDxHRg6aWaFAS4TxA55hxHsSniLFbi6aO+I1n+v0HjeF/ZoGHAAIAAAAASUVORK5CYII=");break e;default:c(void 0)}},m=[l],i[0]=l,i[1]=o,i[2]=m):(o=i[1],m=i[2]),t.useEffect(o,m),i[3]!==r||i[4]!==d?(x=d?s.jsx("img",{className:a("rounded-full",r),src:d}):"",i[3]=r,i[4]=d,i[5]=x):x=i[5],i[6]!==x?(p=s.jsx(s.Fragment,{children:x}),i[6]=x,i[7]=p):p=i[7],p},k=()=>{const{t:e}=n(),{showToast:a}=i(),{address:y}=l(),[f,j]=t.useState(!1),[k,P]=t.useState(),[B,F]=t.useState(),[T,M]=t.useState(),[L,U]=t.useState(),H=[{token:r,symbol:"USDT"},{token:d,symbol:"MZU"}],V=H[0],X=H[1],[z,Q]=t.useState(),[I,W]=t.useState();t.useEffect((()=>{y&&Z()}),[y]);const Z=async()=>{try{const[e,t,s]=await Promise.all([q(V.token),q(X.token),R()]);M(e),U(t),W(s);const a=await w(N("1"),d,r);Q(a[1])}catch(e){}},R=async()=>await c(m,{abi:g.abi,address:o,functionName:"balanceOf",args:[y]}),q=async e=>await c(m,{abi:g.abi,address:e,functionName:"balanceOf",args:[y]}),Y=async e=>{if(Number(e)>0)try{const t=await w(N(e),V.token,X.token);F(x(p(t[1])))}catch(t){}else F("")},J=async(t,s,n)=>{try{const{request:i}=await A(m,{abi:g.abi,address:t,functionName:"approve",args:[h,s]}),l=await C(m,i);return await D(m,{hash:l}),a(n+e("tips.authorizationSuccessful"),"success"),!0}catch(i){return j(!1),!1}},K=async e=>await c(m,{abi:g.abi,address:e,functionName:"allowance",args:[y,h]}),G=async()=>{if(null!=B&&null!=k&&y)try{const t=(await S(m)).timestamp+BigInt(1e3),s=N(k),n=N(B),{request:i}=await A(m,{abi:v,address:h,functionName:"addLiquidity",args:[V.token,X.token,s,n,BigInt("0"),BigInt("0"),y,t]}),l=await C(m,i);await D(m,{hash:l}),Z(),a(e("组LP成功"),"success")}catch(t){}finally{j(!1)}};return s.jsxs("div",{children:[s.jsxs("div",{className:"bg-[#F6F6F6] md:px-[1.3vw] md:py-[1vw] p-[15px] rounded-[16px]",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex flex-none justify-between items-center",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(O,{symbol:V.symbol,className:"w-[30px] md:w-[47px]"}),s.jsxs("span",{className:"pr-[17px] pl-2 font-bold text-[14px] md:text-[20px]",children:[" ",V.symbol]})]})}),s.jsx(b,{value:k,onChange:e=>(async e=>{P(e),Y(e)})(e),placeholder:"0.00",className:"text-right bg-[#F6F6F6] h-[40px] lg:h-[60px]",inputClassName:" !border-none !text-[14px] md:!text-[25px] w-full !text-right",inputBoxClassName:"!border-none px-0"})]}),s.jsxs("div",{className:"flex justify-between items-center text-[#8A8A8A] text-[12px] md:text-[16px]",children:[s.jsxs("span",{children:[e("balance"),"：",s.jsx("span",{className:"",children:null!=T&&x(p(T))})]}),s.jsx("span",{onClick:()=>{if(null==L||null==T)return;const e=x(p(T));P(e),Y(e)},className:"text-[#3D3D3D] text-[12px] md:text-[18px] cursor-pointer",children:e("max")})]})]}),s.jsx("img",{onClick:()=>{},src:"/assets/down-C3DxnDNg.svg",className:"relative z-[1] m-auto my-4 w-[30px] md:w-[48px]"}),s.jsxs("div",{className:"bg-[#F6F6F6] md:px-[1.3vw] md:py-[1vw] p-[15px] rounded-[16px]",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex flex-none justify-between items-center",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(O,{symbol:X.symbol,className:"w-[30px] md:w-[47px]"}),s.jsxs("span",{className:"pr-[17px] pl-2 font-bold text-[14px] md:text-[20px]",children:[" ",X.symbol]})]})}),s.jsx(b,{value:B,disabled:!0,placeholder:"0.00",className:"text-right bg-[#F6F6F6] h-[40px] lg:h-[60px]",inputClassName:" !border-none !text-[14px] md:!text-[25px] w-full !text-right",inputBoxClassName:"!border-none px-0"})]}),s.jsx("div",{className:"flex justify-between items-center text-[#8A8A8A] text-[14px]",children:s.jsxs("span",{children:[e("balance"),"：",s.jsx("span",{className:"",children:null!=L&&x(p(L))})]})})]}),s.jsxs("div",{className:"gap-y-1 grid grid-cols-1 mt-4 text-[14px] md:text-[16px]",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"text-[rgba(61,61,61,0.7)]",children:e("lpPool.exchangeRate")}),s.jsx("div",{className:"font-bold text-[#3D3D3D]",children:null!=z&&s.jsxs("span",{children:["1 ",V.symbol," ≈ ",x(p(z))," ",X.symbol]})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"text-[rgba(61,61,61,0.7)]",children:e("lpPool.myLp")}),s.jsx("div",{className:"font-bold text-[#3D3D3D]",children:null!=I&&x(p(I))})]})]}),s.jsx(u,{onClick:async()=>{if(null!=k&&null!=B&&null!=T&&null!=L&&Number(k)>0&&Number(B)>0){if(Number(k)>Number(p(T)))return void a(V.symbol+e("tips.insufficientBalance"),"error");if(Number(B)>Number(p(L)))return void a(X.symbol+e("tips.insufficientBalance"),"error");j(!0);const t=await K(V.token),s=await K(X.token);if(Number(k)>Number(p(t))){if(await J(V.token,N(k),V.symbol))if(Number(B)>Number(p(s))){await J(X.token,N(B),X.symbol)&&G()}else G()}else if(Number(B)>Number(p(s))){await J(X.token,N(B),X.symbol)&&G()}else G()}},loading:f,variant:"red",className:"mt-4 w-full h-[40px] md:h-[60px] !text-[14px] md:!text-[20px]",children:e("lpPool.addLp")})]})},P={address:"0x289864A595cd78a009403892b38C04216fa630C2",abi:[{name:"Deposit",type:"event",inputs:[{type:"address",name:"account",indexed:!0},{type:"uint256",name:"amount"}]},{name:"Initialized",type:"event",inputs:[{type:"uint8",name:"version"}]},{name:"TakedReward",type:"event",inputs:[{type:"address",name:"owner",indexed:!0},{type:"uint256",name:"reward"}]},{name:"Withdraw",type:"event",inputs:[{type:"address",name:"account",indexed:!0},{type:"uint256",name:"amount"}]},{name:"accTokenPerShare",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"hasRole",type:"function",stateMutability:"view",inputs:[{type:"bytes32",name:"role"},{type:"address",name:"account"}],outputs:[{type:"bool"}]},{name:"pair",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"address"}]},{name:"reserve",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"totalSupply",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"usdt",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"address"}]},{name:"userInfoOf",type:"function",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256",name:"reward"},{type:"uint256",name:"supply"},{type:"uint256",name:"rewardDebt"}]},{name:"initialize",type:"function",stateMutability:"nonpayable",inputs:[{type:"address",name:"_permissionAdmin"},{type:"address",name:"_usdt"},{type:"address",name:"_pair"}],outputs:[]},{name:"distribute",type:"function",stateMutability:"nonpayable",inputs:[{type:"uint256",name:"amount"}],outputs:[]},{name:"earned",type:"function",stateMutability:"view",inputs:[{type:"address",name:"account"}],outputs:[{type:"uint256"}]},{name:"takeReward",type:"function",stateMutability:"nonpayable",inputs:[],outputs:[]},{name:"deposit",type:"function",stateMutability:"nonpayable",inputs:[{type:"uint256",name:"amount"}],outputs:[]},{name:"withdraw",type:"function",stateMutability:"nonpayable",inputs:[{type:"uint256",name:"amount"}],outputs:[]}]},B=({isOpen:e,onClose:a,onUpdate:r})=>{const{t:d}=n(),{showToast:o}=i(),{address:h}=l(),[y,w]=t.useState(!1),[v,j]=t.useState(""),[S,O]=t.useState(),[k,B]=t.useState();t.useEffect((()=>{if(j(""),e){(async()=>{if(!h)return;const e=await c(m,{...P,functionName:"pair"});B(e);const t=await c(m,{abi:g.abi,address:e,functionName:"balanceOf",args:[h]});O(t)})()}}),[e,h]);const F=async e=>{try{w(!0);const{request:t}=await A(m,{...P,functionName:"deposit",args:[e]}),s=await C(m,t);await D(m,{hash:s}),o(d("tips.pledgeSuccess"),"success"),a(),r()}catch(t){}finally{w(!1)}},T=async e=>{if(null==k)return!1;try{w(!0);const{request:t}=await A(m,{abi:g.abi,address:k,functionName:"approve",args:[P.address,e]}),s=await C(m,t);return await D(m,{hash:s}),o("LP"+d("tips.authorizationSuccessful"),"success"),!0}catch(t){return w(!1),!1}};return s.jsx(f,{isOpen:e,onClose:a,title:d("pledge"),className:"md:max-h-min",children:s.jsxs("div",{className:"m-auto md:w-[396px]",children:[s.jsxs("div",{className:"gap-y-[8px] grid grid-cols-1",children:[s.jsxs("div",{className:"font-bold text-[#3D3D3D] text-[16px] text-left md:text-[18px]",children:[d("lpPool.inputAmount"),"："]}),s.jsx(b,{className:"",value:v,onChange:e=>j(e),inputClassName:"md:h-[60px] h-[55px]",placeholder:"0.00",children:s.jsx("div",{onClick:()=>{if(null==S)return;const e=x(p(S));j(e)},className:"text-[#3D3D3D] md:text-[18px] cursor-pointer",children:d("max")})})]}),s.jsxs("div",{className:"flex flex-col justify-center items-center mt-[15px] md:mt-[42px]",children:[s.jsxs("div",{className:"mb-2 text-[rgba(61,61,61,0.7)]",children:["LP",d("balance"),"：",s.jsx("span",{className:"font-bold text-[#3D3D3D]",children:null!=S&&x(p(S))})]}),s.jsx(u,{loading:y,onClick:async()=>{if(h&&null!=k)if(Number(v)>0){const e=N(v);if(e>await c(m,{abi:g.abi,address:k,functionName:"allowance",args:[h,P.address]})){await T(e)&&F(e)}else F(e)}else o(d("tips.than0"),"error")},variant:"red",className:"w-[120px] md:w-[180px] h-[40px] md:h-[60px] md:!text-[20px]",children:d("submit")})]})]})})},F=({isOpen:e,onClose:l,onUpdate:r,supply:d})=>{const{t:c}=n(),{showToast:o}=i(),[p,h]=t.useState(""),[y,w]=t.useState(0),[v,g]=t.useState(!1);t.useEffect((()=>{y>0&&h(x(Number(d)*Number(y)/100))}),[y]);return s.jsx(f,{isOpen:e,onClose:l,title:c("redeem"),className:"md:max-h-min",children:s.jsxs("div",{className:"m-auto md:w-[396px]",children:[s.jsxs("div",{className:"gap-y-[8px] grid grid-cols-1",children:[s.jsxs("div",{className:"font-bold text-[#3D3D3D] text-[16px] text-left md:text-[18px]",children:[c("lpPool.inputAmount1"),"："]}),s.jsx(b,{className:"",placeholder:"0.00",value:p,onChange:e=>h(e),inputClassName:"h-[60px]"}),s.jsxs("div",{className:"mt-[20px] mb-[24px]",children:[s.jsx(j,{value:y,onChange:e=>w(e)}),s.jsx("div",{className:"flex justify-between mt-[7px]",children:Array(5).fill(0).map(((e,t)=>s.jsxs("div",{className:a("text-[14px] text-[#3D3D3D]"),onClick:()=>w(25*t),children:[25*t,"%"]})))})]})]}),s.jsxs("div",{className:"flex flex-col justify-center items-center mt-[15px] md:mt-[42px]",children:[s.jsxs("div",{className:"mb-2 text-[rgba(61,61,61,0.7)]",children:[c("lpPool.canRedeem"),"：",s.jsx("span",{className:"font-bold text-[#3D3D3D]",children:d})]}),s.jsx(u,{disabled:""==p,onClick:async()=>{if(Number(p)<=Number(d))try{g(!0);const e=N(p),{request:t}=await A(m,{...P,functionName:"withdraw",args:[e]}),s=await C(m,t);await D(m,{hash:s}),o(c("tips.redemptionSuccessful"),"success"),l(),r()}catch(e){}finally{g(!1)}else o(c("lpPool.tips1"),"error")},loading:v,variant:"red",className:"w-[120px] md:w-[180px] h-[40px] md:h-[60px] md:!text-[20px]",children:c("redeem")})]})]})})},T=()=>{const{t:e}=n(),{showToast:a}=i(),{address:r}=l(),[d,c]=t.useState(!1),[o,h]=t.useState(!1),[b,f]=t.useState(!1),[w,N]=t.useState(),[v,j]=t.useState(),[g,S]=t.useState();t.useEffect((()=>{k()}),[r]);const k=async()=>{if(!r)return;const[e,t,s]=await y(m,{contracts:[{...P,functionName:"totalSupply"},{...P,functionName:"userInfoOf",args:[r]},{...P,functionName:"earned",args:[r]}]}).then((e=>e.map((e=>"success"==e.status?e.result:void 0))));if(null!=e&&null!=t&&null!=s){N(e);const[a,n,i]=t;j({reward:a,supply:n,rewardDebt:i}),S(s)}};return s.jsxs("div",{children:[s.jsx(B,{isOpen:b,onClose:()=>f(!1),onUpdate:k}),null!=v&&s.jsx(F,{supply:x(p(null==v?void 0:v.supply)),isOpen:o,onClose:()=>h(!1),onUpdate:k}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(O,{symbol:"USDT",className:"w-[30px] md:w-[41px]"}),s.jsx(O,{symbol:"MZU",className:"ml-[-5px] md:ml-[-10px] w-[30px] md:w-[41px]"}),s.jsx("div",{className:"ml-[9px] font-bold text-[#3D3D3D] text-[16px] md:text-[24px]",children:"USDT-MZU/LP"})]}),s.jsxs("div",{className:"gap-y-4 grid grid-cols-1 bg-[#F6F6F6] my-4 p-[15px] md:p-6 rounded-[12px] text-[12px] md:text-[14px]",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"text-[rgba(61,61,61,0.7)]",children:[e("lpPool.totalPledge"),":"]}),s.jsx("div",{className:"font-bold text-[#3D3D3D]",children:null!=w&&x(p(w))})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"text-[rgba(61,61,61,0.7)]",children:[e("lpPool.myPledge"),":"]}),s.jsx("div",{className:"font-bold text-[#3D3D3D]",children:null!=v&&x(p(v.supply))})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"text-[rgba(61,61,61,0.7)]",children:[e("lpPool.RewardsClaimed"),":"]}),s.jsx("div",{className:"font-bold text-[#3D3D3D]",children:null!=v&&x(p(v.reward))})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[14px] md:text-[18px]",children:e("pendingClaim")}),s.jsx("div",{className:"font-bold text-[#3D3D3D] text-[20px] md:text-[28px]",children:null!=g&&x(p(g))})]}),s.jsx(u,{disabled:null==g||0==Number(x(p(g))),loading:d,onClick:async()=>{if(r)try{c(!0);const{request:t}=await A(m,{...P,functionName:"takeReward"}),s=await C(m,t);await D(m,{hash:s}),a(e("tips.claimSuccess"),"success"),k()}catch(t){}finally{c(!1)}},variant:"red",className:"w-[100px] md:w-[128px] h-[40px] md:h-[60px] text-[16px] md:!text-[20px]",children:e("claim")})]}),s.jsxs("div",{className:"flex justify-between mt-4",children:[s.jsx(u,{onClick:()=>f(!0),variant:"red",className:"w-[120px] md:w-[180px] h-[40px] md:h-[60px] text-[16px] md:!text-[20px]",children:e("pledge")}),s.jsx(u,{onClick:()=>h(!0),disabled:null==v||0==Number(x(p(v.supply))),variant:"redBorder",className:"w-[120px] md:w-[180px] h-[40px] md:h-[60px] text-[16px] md:!text-[20px]",children:e("redeem")})]})]})},M=()=>{const i=e.c(34),{t:l}=n(),[r,d]=t.useState(1),c=2===r?"translateX(100%)":"translateX(0)";let o,m,x;i[0]!==c?(o=s.jsx("div",{className:"top-0 left-0 z-0 absolute bg-[#E5331C] rounded-[60px] w-1/2 h-full transition-transform duration-300 ease-in-out",style:{transform:c}}),i[0]=c,i[1]=o):o=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(m=a("h-full px-6 flex items-center justify-center cursor-pointer relative z-10 transition-colors duration-200","hover:text-[#E5331C]"),x=()=>d(1),i[2]=m,i[3]=x):(m=i[2],x=i[3]);const p=1===r&&"text-white";let u,h,y,b,f;i[4]!==p?(u=a(p),i[4]=p,i[5]=u):u=i[5],i[6]!==l?(h=l("lpPool.addLp"),i[6]=l,i[7]=h):h=i[7],i[8]!==u||i[9]!==h?(y=s.jsx("div",{className:m,onClick:x,children:s.jsx("span",{className:u,children:h})}),i[8]=u,i[9]=h,i[10]=y):y=i[10],i[11]===Symbol.for("react.memo_cache_sentinel")?(b=a("h-full px-6 flex items-center justify-center cursor-pointer relative z-10 transition-colors duration-200","hover:text-[#E5331C]"),f=()=>d(2),i[11]=b,i[12]=f):(b=i[11],f=i[12]);const w=2===r&&"text-white";let N,v,j,g,A,C,D,S;return i[13]!==w?(N=a(w),i[13]=w,i[14]=N):N=i[14],i[15]!==l?(v=l("pledge"),i[15]=l,i[16]=v):v=i[16],i[17]!==N||i[18]!==v?(j=s.jsx("div",{className:b,onClick:f,children:s.jsxs("span",{className:N,children:[v,"LP"]})}),i[17]=N,i[18]=v,i[19]=j):j=i[19],i[20]!==o||i[21]!==j||i[22]!==y?(g=s.jsx("div",{className:"flex justify-center items-center",children:s.jsxs("div",{className:"relative border-[#D4D4D4] grid grid-cols-2 bg-[#F6F6F6] mb-6 border rounded-[60px] w-[300px] md:w-[360px] h-[40px] md:h-[52px] font-bold text-[#3D3D3D] text-[16px] md:text-[1.2vw] overflow-hidden",children:[o,y,j]})}),i[20]=o,i[21]=j,i[22]=y,i[23]=g):g=i[23],i[24]!==r?(A=1==r&&s.jsx(k,{}),i[24]=r,i[25]=A):A=i[25],i[26]!==r?(C=2==r&&s.jsx(T,{}),i[26]=r,i[27]=C):C=i[27],i[28]!==A||i[29]!==C?(D=s.jsxs("div",{className:"border-[#D4D4D4] m-auto px-6 py-[36px] border rounded-[20px] w-full md:w-[448px]",children:[A,C]}),i[28]=A,i[29]=C,i[30]=D):D=i[30],i[31]!==g||i[32]!==D?(S=s.jsx("div",{className:"mt-[80px] pt-[20px] md:pt-[97px] min-h-screen",children:s.jsxs("div",{className:"m-auto",children:[g,D]})}),i[31]=g,i[32]=D,i[33]=S):S=i[33],S};export{M as default};
