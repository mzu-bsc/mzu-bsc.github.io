System.register(["./index-legacy-CuHIuM2n.js","./sameBox-legacy-W-DssroL.js","./USDTToken-legacy-CBH67rAb.js","./StaticPool-legacy-DWpVt-lq.js","./writeContract-legacy-BIc8HW7s.js"],(function(t,e){"use strict";var n,a,s,i,u,p,c,l,y,o,d,r,m,f,x,w,b;return{setters:[t=>{n=t.u,a=t.d,s=t.r,i=t.b,u=t.q,p=t.o,c=t.g,l=t.j,y=t.B,o=t.t,d=t.l},t=>{r=t.S},t=>{m=t.U},t=>{f=t.S},t=>{x=t.s,w=t.w,b=t.a}],execute:function(){const e={address:"0x9f6daBD400D8D09797090f1ddcB0b112033b2c33",abi:[{name:"Claim",type:"event",inputs:[{type:"uint256",name:"userCardId",indexed:!0},{type:"address",name:"user",indexed:!0},{type:"uint256",name:"amount"},{type:"uint256",name:"cycle"}]},{name:"Despoit",type:"event",inputs:[{type:"uint256",name:"userCardId",indexed:!0},{type:"uint256",name:"cycle"},{type:"uint256",name:"power"}]},{name:"Initialized",type:"event",inputs:[{type:"uint8",name:"version"}]},{name:"card",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"address"}]},{name:"currentCycle",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"cycleTotalPowerOf",type:"function",stateMutability:"view",inputs:[{type:"uint256"}],outputs:[{type:"uint256"}]},{name:"hasRole",type:"function",stateMutability:"view",inputs:[{type:"bytes32",name:"role"},{type:"address",name:"account"}],outputs:[{type:"bool"}]},{name:"perPowerRewardOf",type:"function",stateMutability:"view",inputs:[{type:"uint256"}],outputs:[{type:"uint256"}]},{name:"staticPool",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"address"}]},{name:"token",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"address"}]},{name:"userCyclesOf",type:"function",stateMutability:"view",inputs:[{type:"uint256"},{type:"uint256"}],outputs:[{type:"uint256"}]},{name:"userLastIndexOf",type:"function",stateMutability:"view",inputs:[{type:"uint256"}],outputs:[{type:"uint256"}]},{name:"userPowerOf",type:"function",stateMutability:"view",inputs:[{type:"uint256"},{type:"uint256"}],outputs:[{type:"uint256"}]},{name:"initialize",type:"function",stateMutability:"nonpayable",inputs:[{type:"address",name:"_permissionAdmin"},{type:"address",name:"_token"},{type:"address",name:"_card"}],outputs:[]},{name:"setStaticPool",type:"function",stateMutability:"nonpayable",inputs:[{type:"address",name:"_staticPool"}],outputs:[]},{name:"isInCycle",type:"function",stateMutability:"view",inputs:[{type:"uint256",name:"_userCardId"},{type:"uint256",name:"_cycle"}],outputs:[{type:"bool"}]},{name:"despoit",type:"function",stateMutability:"nonpayable",inputs:[{type:"uint256",name:"_userCardId"},{type:"uint256",name:"_power"}],outputs:[]},{name:"currentTotalPower",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"distribute",type:"function",stateMutability:"nonpayable",inputs:[{type:"uint256",name:"amount"}],outputs:[]},{name:"earn",type:"function",stateMutability:"view",inputs:[{type:"uint256",name:"_userCardId"}],outputs:[{type:"uint256"}]},{name:"claim",type:"function",stateMutability:"nonpayable",inputs:[{type:"uint256",name:"_userCardId"}],outputs:[{type:"uint256"}]}]};t("default",(()=>{const{t:t}=n(),{showToast:v}=a(),[g,M]=s.useState(!1),[h,j]=s.useState(),{currentCard:I}=i(),[C,N]=s.useState(),[S,P]=s.useState();s.useEffect((()=>{_()}),[I]);const _=async()=>{if(null==I)return;const[t,n,a]=await u(c,{contracts:[{abi:m.abi,address:p,functionName:"balanceOf",args:[e.address]},{...e,functionName:"earn",args:[BigInt(I.cardId)]},{...f,functionName:"userInfoOf",args:[BigInt(I.cardId)]}]}).then((t=>t.map((t=>"success"==t.status?t.result:void 0))));if(null!=t&&j(t),null!=n&&N(n),null!=a){const[t,e,n,s]=a;P(e)}};return l.jsx("div",{className:"relative mt-[80px] pt-[20px] md:pt-[68px] pb-[148px] text-center",children:l.jsxs("div",{className:"",children:[l.jsx("img",{src:"/assets/img-CkrEul8Z.png",className:"m-auto w-[150px] md:w-[25.7vw]"}),l.jsxs("div",{className:"m-auto !mt-[46px] w-full md:w-min",children:[l.jsxs("div",{className:"flex md:flex-row flex-col md:space-x-[42px] space-y-[15px] md:space-y-0",children:[l.jsx(r,{icon:"/assets/icon1-CbUt3AHj.svg",title:t("dayPool.text1"),value:C,className:"w-full md:w-[272px] md:h-[116px]"}),l.jsx(r,{icon:"/assets/icon2-DlJSVp-p.svg",title:t("dayPool.text2"),value:h,className:"w-full md:w-[272px] md:h-[116px]"})]}),l.jsx("div",{className:"flex justify-center items-center space-x-[20px] md:space-x-[80px] mt-[30px] md:mt-[65px]",children:l.jsx(y,{disabled:null==C||0==Number(o(d(C)))||null==S||0n==S,loading:g,onClick:async()=>{if(null!=I)try{M(!0);const{request:n}=await x(c,{...e,functionName:"claim",args:[BigInt(I.cardId)]}),a=await w(c,n);await b(c,{hash:a}),v(t("tips.claimSuccess"),"success"),_()}catch(t){}finally{M(!1)}},variant:"red",className:"w-[120px] md:w-[180px] h-[40px] md:h-[3.1vw]",children:t("claim")})})]})]})})}))}}}));
